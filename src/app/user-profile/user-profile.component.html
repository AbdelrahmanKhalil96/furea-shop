<app-navbar></app-navbar>

<!--Main Navigation-->
<header>
  <!-- Sidebar -->
  <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-white">
    <div class="position-sticky">
      <div class="list-group list-group-flush mx-3 mt-4">

        <!-- Collapsed content -->
        <ul class="nav btn-group-vertical mt-5" id="myTab" role="tablist">
          <li class="nav-item w-100" role="presentation">
            <button class="btn  w-100 active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Home</button>
          </li>
          <li class="nav-item w-100" role="presentation">
            <button class="btn  w-100" id="orders-tab" data-bs-toggle="tab" data-bs-target="#orders" type="button" role="tab" aria-controls="orders" aria-selected="false">Orders</button>
          </li>
      <!--     <li class="nav-item w-100" role="presentation">
            <button class="btn  w-100" id="messages-tab" data-bs-toggle="tab" data-bs-target="#messages" type="button" role="tab" aria-controls="messages" aria-selected="false">Messages</button>
          </li>
          <li class="nav-item w-100" role="presentation">
            <button class="btn  w-100" id="settings-tab" data-bs-toggle="tab" data-bs-target="#settings" type="button" role="tab" aria-controls="settings" aria-selected="false">Settings</button>
          </li> -->
        </ul>

        <!-- Collapsed content -->

        <!-- Collapse 2 -->
      </div>
    </div>
  </nav>
  <!-- Sidebar -->


</header>
<!--Main Navigation-->
<div class="tab-content">
  <div class="tab-pane active" id="home" role="tabpanel" aria-labelledby="home-tab"><!--Main layout-->
    <main>
      <div class="container "> <ng-container *ngIf="user$ | async as user ;else notVer">
       <br>   <br>
       <br>
       <br>

       <section >
        <div class="container h-100">
          <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col col-lg-6 mb-4 mb-lg-0">
              <div class="card mb-3" style="border-radius: .5rem;">
                <div class="row g-0">
                  <div class="col-md-4 gradient-custom text-center text-white"
                    style="border-top-left-radius: .5rem; border-bottom-left-radius: .5rem;">
                    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava1-bg.webp"
                      alt="Avatar" class="img-fluid my-5" style="width: 80px;" />
                    <h5>{{ user.name }}</h5>
                    <p>Web Designer</p>
                    <i class="far fa-edit mb-5"></i>
                  </div>
                  <div class="col-md-8">
                    <div class="card-body p-4">
                      <h6>Information</h6>
                      <hr class="mt-0 mb-4">
                      <div class="row pt-1">
                        <div class="col mb-3">
                          <h6>Email</h6>
                          <p class="text-muted">{{ user.email }}</p>
                        </div>

                      </div>
                      <h6>Projects</h6>
                      <hr class="mt-0 mb-4">
                      <div class="row pt-1">
                        <div class="col-6 mb-3">
                          <h6>Recent</h6>
                          <p class="text-muted">Lorem ipsum</p>
                        </div>
                        <div class="col-6 mb-3">
                          <h6>Most Viewed</h6>
                          <p class="text-muted">Dolor sit amet</p>
                        </div>
                      </div>
            <!--      <div class="d-flex justify-content-start">
                        <a href="#!"><i class="fab fa-facebook-f fa-lg me-3"></i></a>
                        <a href="#!"><i class="fab fa-twitter fa-lg me-3"></i></a>
                        <a href="#!"><i class="fab fa-instagram fa-lg"></i></a>
                      </div> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="orders-grid" style="display: none;">
          <div class="profile__header">
            <img [src]="user.picture" alt="Profile" class="profile__avatar" />
            <div class="profile__headline">
              <h2 class="profile__title">{{ user.name }}</h2>
              <span class="profile__description">{{ user.email }}</span>
            </div>
          </div>

          <ng-container *ngIf="code$ | async as code" >
            <div class="profile__details">
              <div #myDiv id="tutor-price" style="display: none;" (click)="this.service.printuser(code)"></div>

           <h2>
                {{title}}
              </h2>
              <h3>
             {{code}}
              </h3>
            </div>
          </ng-container>
        </div>
      </section>

          </ng-container>
    <ng-template #notVer>
      <div class="content-layout">
        <h1 id="page-title" class="content__title">Profile Page</h1>
        <div class="content__body">
          <p id="page-description">
            <span>
              You Need To <strong>Log In</strong> to Access This Page
            </span>
            <span>
              <strong>Only authenticated users can access this page.</strong>
            </span>
          </p>


        </div>
      </div>
    </ng-template>
    </div>
    </main>
    <!--Main layout-->
    </div>
  <div class="tab-pane container ms-md-5 position-absolute start-50 translate-middle-x  " id="orders" role="tabpanel" aria-labelledby="orders-tab">
    <br>
    <br>
<div class="ms-md-5  w-100">
  <div class="row ms-md-5 d-flex justify-content-center align-items-center">
  <table class="table ms-md-5">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">userName</th>
        <th scope="col">Date</th>
        <th scope="col">Total</th>
        <th scope="col">status</th>

      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let order of this.service.userOrders.userOrders">
        <th scope="row"><a  routerLink="/user-orders/{{order.id}}" (click)="this.service.getOrderDetails(order)"> {{order.id}}</a></th>
        <td>{{order.userName}}</td>
        <td>{{order.orderDate}}</td>
        <td>{{order.totalAmount}}</td>
        <td>{{order.orderStatus}}</td>

      </tr>

    </tbody>
  </table>
</div>
  </div>
  </div>

</div>

